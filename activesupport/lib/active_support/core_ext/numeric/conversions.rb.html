<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for lib/active_support/core_ext/numeric/conversions.rb</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../index.html">All files</a> / <a href="index.html">lib/active_support/core_ext/numeric</a> conversions.rb
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">95.65% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>22/23</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">96.3% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>26/27</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>1/1</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">95.65% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>22/23</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">6409106x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12374x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6396396x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">26x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">80x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">88x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">78x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"># frozen_string_literal: true
&nbsp;
require "active_support/core_ext/big_decimal/conversions"
require "active_support/number_helper"
require "active_support/core_ext/module/deprecation"
&nbsp;
module ActiveSupport::NumericWithFormat
  # Provides options for converting numbers into formatted strings.
  # Options are provided for phone numbers, currency, percentage,
  # precision, positional notation, file size and pretty printing.
  #
  # ==== Options
  #
  # For details on which formats use which options, see ActiveSupport::NumberHelper
  #
  # ==== Examples
  #
  #  Phone Numbers:
  #  5551234.to_s(:phone)                                     # =&gt; "555-1234"
  #  1235551234.to_s(:phone)                                  # =&gt; "123-555-1234"
  #  1235551234.to_s(:phone, area_code: true)                 # =&gt; "(123) 555-1234"
  #  1235551234.to_s(:phone, delimiter: ' ')                  # =&gt; "123 555 1234"
  #  1235551234.to_s(:phone, area_code: true, extension: 555) # =&gt; "(123) 555-1234 x 555"
  #  1235551234.to_s(:phone, country_code: 1)                 # =&gt; "+1-123-555-1234"
  #  1235551234.to_s(:phone, country_code: 1, extension: 1343, delimiter: '.')
  #  # =&gt; "+1.123.555.1234 x 1343"
  #
  #  Currency:
  #  1234567890.50.to_s(:currency)                 # =&gt; "$1,234,567,890.50"
  #  1234567890.506.to_s(:currency)                # =&gt; "$1,234,567,890.51"
  #  1234567890.506.to_s(:currency, precision: 3)  # =&gt; "$1,234,567,890.506"
  #  1234567890.506.to_s(:currency, locale: :fr)   # =&gt; "1 234 567 890,51 €"
  #  -1234567890.50.to_s(:currency, negative_format: '(%u%n)')
  #  # =&gt; "($1,234,567,890.50)"
  #  1234567890.50.to_s(:currency, unit: '&amp;pound;', separator: ',', delimiter: '')
  #  # =&gt; "&amp;pound;1234567890,50"
  #  1234567890.50.to_s(:currency, unit: '&amp;pound;', separator: ',', delimiter: '', format: '%n %u')
  #  # =&gt; "1234567890,50 &amp;pound;"
  #
  #  Percentage:
  #  100.to_s(:percentage)                                  # =&gt; "100.000%"
  #  100.to_s(:percentage, precision: 0)                    # =&gt; "100%"
  #  1000.to_s(:percentage, delimiter: '.', separator: ',') # =&gt; "1.000,000%"
  #  302.24398923423.to_s(:percentage, precision: 5)        # =&gt; "302.24399%"
  #  1000.to_s(:percentage, locale: :fr)                    # =&gt; "1 000,000%"
  #  100.to_s(:percentage, format: '%n  %')                 # =&gt; "100.000  %"
  #
  #  Delimited:
  #  12345678.to_s(:delimited)                     # =&gt; "12,345,678"
  #  12345678.05.to_s(:delimited)                  # =&gt; "12,345,678.05"
  #  12345678.to_s(:delimited, delimiter: '.')     # =&gt; "12.345.678"
  #  12345678.to_s(:delimited, delimiter: ',')     # =&gt; "12,345,678"
  #  12345678.05.to_s(:delimited, separator: ' ')  # =&gt; "12,345,678 05"
  #  12345678.05.to_s(:delimited, locale: :fr)     # =&gt; "12 345 678,05"
  #  98765432.98.to_s(:delimited, delimiter: ' ', separator: ',')
  #  # =&gt; "98 765 432,98"
  #
  #  Rounded:
  #  111.2345.to_s(:rounded)                                      # =&gt; "111.235"
  #  111.2345.to_s(:rounded, precision: 2)                        # =&gt; "111.23"
  #  13.to_s(:rounded, precision: 5)                              # =&gt; "13.00000"
  #  389.32314.to_s(:rounded, precision: 0)                       # =&gt; "389"
  #  111.2345.to_s(:rounded, significant: true)                   # =&gt; "111"
  #  111.2345.to_s(:rounded, precision: 1, significant: true)     # =&gt; "100"
  #  13.to_s(:rounded, precision: 5, significant: true)           # =&gt; "13.000"
  #  111.234.to_s(:rounded, locale: :fr)                          # =&gt; "111,234"
  #  13.to_s(:rounded, precision: 5, significant: true, strip_insignificant_zeros: true)
  #  # =&gt; "13"
  #  389.32314.to_s(:rounded, precision: 4, significant: true)    # =&gt; "389.3"
  #  1111.2345.to_s(:rounded, precision: 2, separator: ',', delimiter: '.')
  #  # =&gt; "1.111,23"
  #
  #  Human-friendly size in Bytes:
  #  123.to_s(:human_size)                                   # =&gt; "123 Bytes"
  #  1234.to_s(:human_size)                                  # =&gt; "1.21 KB"
  #  12345.to_s(:human_size)                                 # =&gt; "12.1 KB"
  #  1234567.to_s(:human_size)                               # =&gt; "1.18 MB"
  #  1234567890.to_s(:human_size)                            # =&gt; "1.15 GB"
  #  1234567890123.to_s(:human_size)                         # =&gt; "1.12 TB"
  #  1234567890123456.to_s(:human_size)                      # =&gt; "1.1 PB"
  #  1234567890123456789.to_s(:human_size)                   # =&gt; "1.07 EB"
  #  1234567.to_s(:human_size, precision: 2)                 # =&gt; "1.2 MB"
  #  483989.to_s(:human_size, precision: 2)                  # =&gt; "470 KB"
  #  1234567.to_s(:human_size, precision: 2, separator: ',') # =&gt; "1,2 MB"
  #  1234567890123.to_s(:human_size, precision: 5)           # =&gt; "1.1228 TB"
  #  524288000.to_s(:human_size, precision: 5)               # =&gt; "500 MB"
  #
  #  Human-friendly format:
  #  123.to_s(:human)                                       # =&gt; "123"
  #  1234.to_s(:human)                                      # =&gt; "1.23 Thousand"
  #  12345.to_s(:human)                                     # =&gt; "12.3 Thousand"
  #  1234567.to_s(:human)                                   # =&gt; "1.23 Million"
  #  1234567890.to_s(:human)                                # =&gt; "1.23 Billion"
  #  1234567890123.to_s(:human)                             # =&gt; "1.23 Trillion"
  #  1234567890123456.to_s(:human)                          # =&gt; "1.23 Quadrillion"
  #  1234567890123456789.to_s(:human)                       # =&gt; "1230 Quadrillion"
  #  489939.to_s(:human, precision: 2)                      # =&gt; "490 Thousand"
  #  489939.to_s(:human, precision: 4)                      # =&gt; "489.9 Thousand"
  #  1234567.to_s(:human, precision: 4,
  #                   significant: false)                   # =&gt; "1.2346 Million"
  #  1234567.to_s(:human, precision: 1,
  #                   separator: ',',
  #                   significant: false)                   # =&gt; "1,2 Million"
  def to_s(format = nil, options = nil)
    case format
    when nil
      super()
    when Integer, String
      super(format)
    when :phone
      return ActiveSupport::NumberHelper.number_to_phone(self, options || {})
    when :currency
      return ActiveSupport::NumberHelper.number_to_currency(self, options || {})
    when :percentage
      return ActiveSupport::NumberHelper.number_to_percentage(self, options || {})
    when :delimited
      return ActiveSupport::NumberHelper.number_to_delimited(self, options || {})
    when :rounded
      return ActiveSupport::NumberHelper.number_to_rounded(self, options || {})
    when :human
      return ActiveSupport::NumberHelper.number_to_human(self, options || {})
    when :human_size
      return ActiveSupport::NumberHelper.number_to_human_size(self, options || {})
    when Symbol
      super()
    else
      super(format)
    end
  end
end
&nbsp;
# Ruby 2.4+ unifies Fixnum &amp; Bignum into Integer.
if 0.class == Integer
<span class="cstat-no" title="statement not covered" >  <span class="missing-if-branch" title="if path not taken" >I</span>Integer.prepend ActiveSupport::NumericWithFormat</span>
else
  Fixnum.prepend ActiveSupport::NumericWithFormat
  Bignum.prepend ActiveSupport::NumericWithFormat
end
Float.prepend ActiveSupport::NumericWithFormat
BigDecimal.prepend ActiveSupport::NumericWithFormat
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Thu Nov 02 2017 15:49:54 GMT-0400 (EDT)
</div>
</div>
<script src="../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../sorter.js"></script>
</body>
</html>
